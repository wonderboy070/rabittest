<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MedFit AI ‚Äì Fitnes Panel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/pose-detection"></script>
    <style>

         /* ... */
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f8f9fa;
      display: flex;
      min-height: 100vh;
    }
    .sidebar {
      width: 280px;
      height: 100vh;
      background: linear-gradient(160deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
      position: fixed;
      left: 0;
      top: 0;
      padding-top: 30px;
      color: #fff;
      box-shadow: 2px 0 10px rgba(0,0,0,0.2);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .sidebar-logo {
      text-align: center;
      margin-bottom: 40px;
    }
    .sidebar-logo h2 {
      font-weight: bold;
      font-size: 24px;
      color: #00ffe7;
      margin-bottom: 5px;
    }
    .sidebar-logo p {
      font-size: 0.9rem;
      color: #ccc;
    }
    .sidebar-menu {
      width: 100%;
      padding: 0;
      list-style: none;
    }
    .sidebar-menu li {
      padding: 12px 25px;
      transition: background-color 0.3s ease;
      cursor: pointer;
    }
    .sidebar-menu li:hover {
      background-color: rgba(255, 255, 255, 0.05);
    }
    .sidebar-menu li.active {
      background-color: #00ffe71a;
      border-left: 5px solid #00ffe7;
    }
    .sidebar-menu li a {
      display: flex;
      align-items: center;
      color: #eee;
      text-decoration: none;
      font-size: 1rem;
    }
    .sidebar-menu li a i {
      margin-right: 15px;
      font-size: 1.2rem;
    }
    .main {
      flex-grow: 1;
      margin-left: 280px;
      padding: 30px;
      background-color: #f8f9fa;
    }
    .main-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }
    .main-header h3 {
      font-size: 1.75rem;
      color: #333;
      margin: 0;
    }
    .card {
      border: none;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      margin-bottom: 25px;
      background-color: #fff;
    }
    .card-header {
      background-color: #f0f0f0;
      padding: 15px 20px;
      border-bottom: 1px solid #ddd;
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
      font-weight: bold;
      color: #555;
    }
    .card-body {
      padding: 20px;
    }
    .section {
      display: none;
    }
    .section.active {
      display: block;
    }
    /* Zamonaviy inputlar */
    .form-control {
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 10px 15px;
      margin-bottom: 15px;
      width: 100%;
      box-sizing: border-box;
      font-size: 1rem;
    }
    .form-control:focus {
      outline: none;
      border-color: #00ffe7;
      box-shadow: 0 0 5px rgba(0, 255, 231, 0.5);
    }
    .btn-primary {
      background-color: #007bff;
      border-color: #007bff;
      color: #fff;
      border-radius: 8px;
      padding: 10px 20px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .btn-primary:hover {
      background-color: #0056b3;
      border-color: #0056b3;
    }
    .btn-secondary {
      background-color: #6c757d;
      border-color: #6c757d;
      color: #fff;
      border-radius: 8px;
      padding: 10px 20px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin-left: 10px;
    }
    .btn-secondary:hover {
      background-color: #545b62;
      border-color: #545b62;
    }
    /* Kamera kuzatuv uchun qo'shimcha stil */
    #camera-container {
      position: relative;
      width: 640px;
      height: 480px;
      margin-bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #333; /* Kamera o'rnida ko'rinadigan fon */
    }
    #video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: none; /* Dastlab yashirin */
    }
    #canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 10;
    }
    #camera-controls button {
      margin-right: 10px;
    }
        /* Oldingi CSS kodlari shu yerda */
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f8f9fa;
            display: flex;
            min-height: 100vh;
        }
        .sidebar {
            width: 280px;
            height: 100vh;
            background: linear-gradient(160deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            position: fixed;
            left: 0;
            top: 0;
            padding-top: 30px;
            color: #fff;
            box-shadow: 2px 0 10px rgba(0,0,0,0.2);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .sidebar-logo {
            text-align: center;
            margin-bottom: 40px;
        }
        .sidebar-logo h2 {
            font-weight: bold;
            font-size: 24px;
            color: #00ffe7;
            margin-bottom: 5px;
        }
        .sidebar-logo p {
            font-size: 0.9rem;
            color: #ccc;
        }
        .sidebar-menu {
            width: 100%;
            padding: 0;
            list-style: none;
        }
        .sidebar-menu li {
            padding: 12px 25px;
            transition: background-color 0.3s ease;
            cursor: pointer;
        }
        .sidebar-menu li:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }
        .sidebar-menu li.active {
            background-color: #00ffe71a;
            border-left: 5px solid #00ffe7;
        }
        .sidebar-menu li a {
            display: flex;
            align-items: center;
            color: #eee;
            text-decoration: none;
            font-size: 1rem;
        }
        .sidebar-menu li a i {
            margin-right: 15px;
            font-size: 1.2rem;
        }
        .main {
            flex-grow: 1;
            margin-left: 280px;
            padding: 30px;
            background-color: #f8f9fa;
        }
        .main-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        .main-header h3 {
            font-size: 1.75rem;
            color: #333;
            margin: 0;
        }
        .card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
            margin-bottom: 25px;
            background-color: #fff;
        }
        .card-header {
            background-color: #f0f0f0;
            padding: 15px 20px;
            border-bottom: 1px solid #ddd;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
            font-weight: bold;
            color: #555;
        }
        .card-body {
            padding: 20px;
        }
        .section {
            display: none;
        }
        .section.active {
            display: block;
        }
        /* Zamonaviy inputlar */
        .form-control {
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 10px 15px;
            margin-bottom: 15px;
            width: 100%;
            box-sizing: border-box;
            font-size: 1rem;
        }
        .form-control:focus {
            outline: none;
            border-color: #00ffe7;
            box-shadow: 0 0 5px rgba(0, 255, 231, 0.5);
        }
        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
            color: #fff;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }
        .btn-secondary {
            background-color: #6c757d;
            border-color: #6c757d;
            color: #fff;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-left: 10px;
        }
        .btn-secondary:hover {
            background-color: #545b62;
            border-color: #545b62;
        }
        /* Kamera kuzatuv uchun qo'shimcha stil */
        #camera-container {
            position: relative;
            width: 640px;
            height: 480px;
            margin-bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333; /* Kamera o'rnida ko'rinadigan fon */
        }
        #video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none; /* Dastlab yashirin */
        }
        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
        }
        #camera-controls button {
            margin-right: 10px;
        }
        #gantel-counter {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            border-radius: 5px;
            z-index: 11;
        }
        /* Kalendar uchun stil */
        .calendar-container {
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            background-color: #f9f9f9;
        }
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .calendar-body {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            text-align: center;
        }
        .calendar-day {
            padding: 8px;
            border: 1px solid #eee;
            border-radius: 4px;
            cursor: pointer;
        }
        .calendar-day.today {
            background-color: #007bff;
            color: white;
        }
        .meal-plan {
            margin-top: 15px;
        }
        .meal-item {
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 10px;
        }
        .meal-item:last-child {
            border-bottom: none;
        }
        /* Statistika uchun stil */
        .stats-chart {
            width: 100%;
            height: 200px;
            background-color: #f0f0f0;
            border-radius: 8px;
            margin-top: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #777;
            font-style: italic;
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="sidebar-logo">
            <h2><i class="fas fa-dumbbell"></i> MedFit AI</h2>
            <p>Sizning shaxsiy fitnes yordamchingiz</p>
        </div>
        <ul class="sidebar-menu">
            <li class="active" onclick="showSection('home')"><a href="#"><i class="fas fa-home"></i> Bosh sahifa</a></li>
            <li onclick="showSection('profile')"><a href="#"><i class="fas fa-user-circle"></i> Shaxsiy profil</a></li>
            <li onclick="showSection('meal')"><a href="#"><i class="fas fa-utensils"></i> Kunlik Ovqat</a></li>
            <li onclick="showSection('workout')"><a href="#"><i class="fas fa-dumbbell"></i> Mashqlar Rejasi</a></li>
            <li onclick="showSection('bmi')"><a href="#"><i class="fas fa-weight"></i> BMI & Vazn</a></li>
            <li onclick="showSection('weekly')"><a href="#"><i class="fas fa-calendar-week"></i> Haftalik Reja</a></li>
            <li onclick="showSection('ai')"><a href="#"><i class="fas fa-brain"></i> AI Tahlil</a></li>
            <li onclick="showSection('camera')"><a href="#"><i class="fas fa-video"></i> Kamera Kuzatuv</a></li>
            <li onclick="showSection('stats')"><a href="#"><i class="fas fa-chart-line"></i> Statistika</a></li>
            <li onclick="showSection('settings')"><a href="#"><i class="fas fa-cog"></i> Sozlamalar</a></li>
            <li onclick="showSection('login')"><a href="#"><i class="fas fa-sign-in-alt"></i> Kirish / Ro‚Äòyxat</a></li>
            <li><a href="#"><i class="fas fa-sign-out-alt"></i> Chiqish</a></li>
        </ul>
    </div>

    <div class="main">
        <div class="main-header">
            <h3><i class="fas fa-tachometer-alt"></i> Boshqaruv Paneli</h3>
        </div>
        <div class="container-fluid">
            <div id="home" class="card section active">
                <div class="card-header">üè† Bosh sahifa</div>
                <div class="card-body">
                    <p class="lead">Xush kelibsiz! Bu yerda sizning sog'lig'ingiz va sport maqsadlaringiz uchun sun'iy intellekt yordamida eng yaxshi tavsiyalarni olasiz. Quyidagi bo'limlardan foydalanib, profilingizni ko'ring, ovqatlanish rejangizni kuzating, mashqlar dasturlarini ko'ring va boshqa ko'plab imkoniyatlardan foydalaning.</p>
                    <hr class="my-4">
                    <p>Tezkor havolalar:</p>
                    <div class="d-grid gap-2 d-md-block">
                        <button class="btn btn-outline-primary me-2" type="button" onclick="showSection('profile')"><i class="fas fa-user-circle"></i> Profil</button>
                        <button class="btn btn-outline-success me-2" type="button" onclick="showSection('meal')"><i class="fas fa-utensils"></i> Ovqat</button>
                        <button class="btn btn-outline-info" type="button" onclick="showSection('workout')"><i class="fas fa-dumbbell"></i> Mashqlar</button>
                    </div>
                </div>
            </div>

            <div id="profile" class="card section">
                <div class="card-header">üßç‚Äç‚ôÇÔ∏è Shaxsiy Profil</div>
                <div class="card-body">
                    <h5 class="card-title">Profil ma'lumotlari</h5>
                    <div id="profile-info">
                        </div>
                    <button class="btn btn-primary" onclick="showEditProfileForm()"><i class="fas fa-edit"></i> Tahrirlash</button>
                    <hr class="my-3">
                    <h6 id="edit-profile-title">Shaxsiy ma'lumotlarni kiriting</h6>
                    <form id="profile-form">
                        <div class="mb-3">
                            <label for="name" class="form-label">Ism:</label>
                            <input type="text" class="form-control" id="name" required>
                        </div>
                        <div class="mb-3">
                            <label for="age" class="form-label">Yosh:</label>
                            <input type="number" class="form-control" id="age" required>
                        </div>
                        <div class="mb-3">
                            <label for="gender" class="form-label">Jins:</label>
                            <select class="form-control" id="gender">
                                <option value="male">Erkak</option>
                                <option value="female">Ayol</option>
                                <option value="other">Boshqa</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="height" class="form-label">Bo'y (sm):</label>
                            <input type="number" class="form-control" id="height" required>
                        </div>
                        <div class="mb-3">
                            <label for="weight" class="form-label">Vazn (kg):</label>
                            <input type="number" class="form-control" id="weight" required>
                        </div>
                        <div class="mb-3">
                            <label for="goal" class="form-label">Maqsad:</label>
                            <select class="form-control" id="goal">
                                <option value="muscle_gain">Mushak to'plash</option>
                                <option value="weight_loss">Vazn yo'qotish</option>
                                <option value="general_fitness">Umumiy fitnes</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Saqlash</button>
                        <button type="button" class="btn btn-secondary" onclick="showshowProfileInfo()">Bekor qilish</button>
                    </form>
                </div>
            </div>

            <div id="meal" class="card section">
                <div class="card-header">üç± Kunlik Ovqat Rejasi</div>
                <div class="card-body">
                    <h5 class="card-title">Bugungi ovqatlanish rejasi</h5>
                    <div id="meal-plan">
                        </div>
                    <button class="btn btn-info mt-3" onclick="showCalendar('meal')"><i class="fas fa-calendar-alt"></i> Boshqa kunni ko'rish</button>
                    <hr class="my-3">
                    <h6>Bir oylik ovqatlanish rejasi</h6>
                    <p class="text-muted">Bu yerda bir oylik taxminiy ovqatlanish rejangizni ko'rishingiz mumkin (dinamik emas).</p>
                    <button class="btn btn-primary btn-sm"><i class="fas fa-eye"></i> Ko'rish</button>
                    <div id="meal-calendar" class="calendar-container" style="display: none;">
                        <div class="calendar-header">
                            <button onclick="changeMonth('meal', -1)"><i class="fas fa-chevron-left"></i></button>
                            <h6 id="meal-month-year"></h6>
                            <button onclick="changeMonth('meal', 1)"><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <div class="calendar-body" id="meal-calendar-body"></div>
                    </div>
                </div>
            </div>

            <div id="workout" class="card section">
                <div class="card-header">üèãÔ∏è Mashqlar Rejasi</div>
                <div class="card-body">
                    <h5 class="card-title">Bugungi mashqlar dasturi</h5>
                    <div id="workout-plan">
                        </div>
                    <button class="btn btn-warning mt-3" onclick="showCalendar('workout')"><i class="fas fa-calendar-alt"></i> Boshqa kunni ko'rish</button>
                    <hr class="my-3">
                    <h6>Bir oylik mashqlar rejasi</h6>
                    <p class="text-muted">Bu yerda bir oylik taxminiy mashqlar rejangizni ko'rishingiz mumkin (dinamik emas).</p>
                    <button class="btn btn-primary btn-sm"><i class="fas fa-eye"></i> Ko'rish</button>
                    <div id="workout-calendar" class="calendar-container" style="display: none;">
                        <div class="calendar-header">
                            <button onclick="changeMonth('workout', -1)"><i class="fas fa-chevron-left"></i></button>
                            <h6 id="workout-month-year"></h6>
                            <button onclick="changeMonth('workout', 1)"><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <div class="calendar-body" id="workout-calendar-body"></div>
                    </div>
                </div>
            </div>

            <div id="bmi" class="card section">
                <div class="card-header">üìä BMI & Vazn Nazorati</div>
                <div class="card-body">
                    <h5 class="card-title">Tana Massasi Indeksi (BMI)</h5>
                    <div id="current-weight-info"></div>
                    <div id="bmi-category"></div>
                    <hr class="my-3">
                    <h6>BMI kalkulyatori</h6>
                    <form id="bmi-calculator">
                        <div class="mb-3">
                            <label for="weight-calc" class="form-label">Vazn (kg):</label>
                            <input type="number" class="form-control" id="weight-calc" placeholder="Kiriting">
                        </div>
                        <div class="mb-3">
                            <label for="height-calc" class="form-label">Bo'y (m):</label>
                            <input type="number" class="form-control" id="height-calc" placeholder="Kiriting">
                        </div>
                        <button type="button" class="btn btn-success" onclick="calculateBMI()">Hisoblash</button>
                        <p id="bmi-result" class="mt-2"></p>
                        <p id="weight-advice" class="mt-2"></p>
                    </form>
                    <hr class="my-3">
                    <h6>Vazn o'zgarishlari tarixi</h6>
                    <div id="weight-history">
                        </div>
                    <button class="btn btn-sm btn-outline-secondary" onclick="showWeightHistoryForm()"><i class="fas fa-plus"></i> Yangi vazn kiritish</button>
                    <form id="weight-history-form" style="display: none;">
                        <div class="mb-3">
                            <label for="new-weight" class="form-label">Vazn (kg):</label>
                            <input type="number" class="form-control" id="new-weight" required>
                        </div>
                        <button type="button" class="btn btn-primary btn-sm" onclick="addWeightEntry()">Saqlash</button>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="hideWeightHistoryForm()">Bekor qilish</button>
                    </form>
                </div>
            </div>

            <div id="weekly" class="card section">
                <div class="card-header">üìÖ Haftalik Reja</div>
                <div class="card-body">
                    <h5 class="card-title">Haftalik mashqlar va dam olish rejasi</h5>
                    <ul class="list-group list-group-flush" id="weekly-schedule">
                        </ul>
                    <button class="btn btn-primary mt-3" onclick="showEditWeeklySchedule()"><i class="fas fa-edit"></i> Haftalik rejani tahrirlash</button>
                    <div id="edit-weekly-schedule" style="display: none;">
                        <h6>Haftalik rejani tahrirlash</h6>
                        <form id="weekly-schedule-form">
                            </form>
                        <button type="button" class="btn btn-success btn-sm" onclick="saveWeeklySchedule()">Saqlash</button>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="hideEditWeeklySchedule()">Bekor qilish</button>
                    </div>
                    <hr class="my-3">
                    <h6>Bir oylik reja</h6>
                    <p class="text-muted">Bu yerda bir oylik taxminiy rejangizni ko'rishingiz mumkin (dinamik emas).</p>
                    <button class="btn btn-primary btn-sm"><i class="fas fa-eye"></i> Ko'rish</button>
                </div>
            </div>

            <div id="ai" class="card section">
                <div class="card-header">üß† AI Tahlil</div>
                <div class="card-body">
                    <h5 class="card-title">Sun'iy intellekt tahlili va tavsiyalar</h5>
                    <p>AI tizimi (prototip) sizning profilingiz va kiritgan ma'lumotlaringiz asosida taxminiy tahlil va tavsiyalar beradi.</p>
                    <div id="ai-analysis-results">
                        </div>
                    <button class="btn btn-info mt-3" onclick="performAiAnalysis()"><i class="fas fa-sync-alt"></i> Tahlilni yangilash</button>
                    <hr class="my-3">
                    <h6>AI tahlil tarixi</h6>
                    <div id="ai-analysis-history">
                        </div>
                    <button class="btn btn-secondary btn-sm" onclick="showAiAnalysisHistory()"><i class="fas fa-history"></i> Ko'rish</button>
                </div>
            </div>

            <div id="camera" class="card section">
                <div class="card-header">üé• Kamera Kuzatuv</div>
                <div class="card-body">
                    <h5 class="card-title">Mashq jarayonini kamera orqali kuzatish (faqat skelet)</h5>
                    <p>Web-kamerangizga ruxsat bering va AI faqat skeletingizni kuzatib ko'rsatadi. Gantel ko'tarish sonini hisoblash funksiyasi prototip bosqichida.</p>
                    <div id="camera-container">
                        <video id="video" autoplay playsinline></video>
                        <canvas id="canvas"></canvas>
                        <div id="gantel-counter">O'ng: 0, Chap: 0</div>
                    </div>
                    <div id="camera-controls" class="mb-3">
                        <button class="btn btn-success btn-sm" onclick="enableCamera()"><i class="fas fa-play"></i> Kamerani yoqish</button>
                        <button class="btn btn-danger btn-sm" onclick="disableCamera()"><i class="fas fa-stop"></i> Kamerani o'chirish</button>
                    </div>
                    <p class="mt-2 text-muted"><strong>Eslatma:</strong> Kamera kuzatuvidan foydalanish uchun brauzeringizga kamera ruxsatini berishingiz kerak.</p>
                </div>
            </div>

            <div id="stats" class="card section">
                <div class="card-header">üìà Statistika</div>
                <div class="card-body">
                    <h5 class="card-title">Sizning fitnes statistikangiz</h5>
                    <div id="stats-info">
                        </div>
                    <div class="stats-chart">
                        Grafik (prototip)
                    </div>
                    <hr class="my-3">
                    <h6>Statistika filtrlari</h6>
                    <p class="text-muted">Bu yerda statistika ko'rsatkichlarini filtrlashingiz mumkin (dinamik emas).</p>
                    <div class="mb-3">
                        <label for="statsPeriod" class="form-label">Davr:</label>
                        <select class="form-control form-control-sm" id="statsPeriod" onchange="updateStats()">
                            <option value="week">Hafta</option>
                            <option value="month" selected>Oy</option>
                            <option value="year">Yil</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="settings" class="card section">
                <div class="card-header">‚öôÔ∏è Sozlamalar</div>
                <div class="card-body">
                    <h5 class="card-title">Panel sozlamalari</h5>
                    <div class="mb-3">
                        <label for="language" class="form-label">Til:</label>
                        <select class="form-control" id="language" onchange="saveSettings()">
                            <option value="uz" selected>O‚Äòzbek</option>
                            <option value="en">Ingliz</option>
                            <option value="ru">Rus</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Tema:</label>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="themeSwitch" onchange="saveSettings()">
                            <label class="form-check-label" for="themeSwitch">Yorug‚Äò / Qorong‚Äòi</label>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Bildirishnomalar:</label>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="notificationSwitch" checked onchange="saveSettings()">
                            <label class="form-check-label" for="notificationSwitch">Yoqilgan / O‚Äòchirilgan</label>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="saveSettings()"><i class="fas fa-save"></i> Saqlash</button>
                    <hr class="my-3">
                    <h6>Foydalanuvchi sozlamalari</h6>
                    <p class="text-muted">Bu yerda shaxsiy sozlamalaringizni o'zgartirishingiz mumkin (funktsional emas).</p>
                    <button class="btn btn-outline-secondary btn-sm"><i class="fas fa-user-cog"></i> Sozlash</button>
                </div>
            </div>

            <div id="login" class="card section">
                <div class="card-header">üîê Kirish / Ro‚Äòyxatdan o‚Äòtish</div>
                <div class="card-body">
                    <h5 class="card-title">Hisobingizga kiring yoki yangi hisob yarating</h5>
                    <form id="login-form">
                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="email" placeholder="example@mail.com" required>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Parol</label>
                            <input type="password" class="form-control" id="password" placeholder="*******" required>
                        </div>
                        <button type="submit" class="btn btn-primary"><i class="fas fa-sign-in-alt"></i> Kirish</button>
                        <button type="button" class="btn btn-secondary" onclick="showRegistrationForm()"><i class="fas fa-user-plus"></i> Ro‚Äòyxatdan o‚Äòtish</button>
                    </form>
                    <form id="registration-form" style="display: none;">
                        <div class="mb-3">
                            <label for="reg-email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="reg-email" placeholder="example@mail.com" required>
                        </div>
                        <div class="mb-3">
                            <label for="reg-password" class="form-label">Parol</label>
                            <input type="password" class="form-control" id="reg-password" placeholder="*******" required>
                        </div>
                        <div class="mb-3">
                            <label for="confirm-password" class="form-label">Parolni tasdiqlang</label>
                            <input type="password" class="form-control" id="confirm-password" placeholder="*******" required>
                        </div>
                        <button type="submit" class="btn btn-success">Ro‚Äòyxatdan o‚Äòtish</button>
                        <button type="button" class="btn btn-secondary" onclick="showLoginForm()">Bekor qilish</button>
                    </form>
                    <p class="mt-3"><a href="#">Parolni unutdingizmi?</a></p>
                    <hr class="my-3">
                    <h6>Yangi hisob yaratish</h6>
                    <p class="text-muted">Yangi hisob yaratish uchun yuqoridagi formani to'ldiring.</p>
                </div>
            </div>
        </div>
    </div>
    <script>
        const sections = document.querySelectorAll('.section');
        const menuItems = document.querySelectorAll('.sidebar-menu li');
        const video = document.getElementById("video");
        const canvas = document.getElementById("canvas");
        const gantelCounter = document.getElementById("gantel-counter");
        let model = null;
        let ctx = null;
        let cameraStream = null;
        let isCameraActive = false;
        let chapKotarilishSoni = 0;
        let ongKotarilishSoni = 0;
        let lastLeftWristY = null;
        let lastRightWristY = null;
        const –ø–æ–¥–Ω–∏–º–∞–Ω–∏–µThreshold = 50; // Pikseldagi harakat chegarasi
        const profileForm = document.getElementById('profile-form');
        const profileInfoDiv = document.getElementById('profile-info');
        const editProfileTitle = document.getElementById('edit-profile-title');
        let isEditingProfile = false;

        // Lokal xotiradan ma'lumotlarni yuklash
        let profileData = JSON.parse(localStorage.getItem('profileData')) || {
            name: 'Foydalanuvchi',
            age: 25,
            gender: 'male',
            height: 170,
            weight: 70,
            goal: 'general_fitness'
        };
        let weightHistoryData = JSON.parse(localStorage.getItem('weightHistory')) || [];
        let settingsData = JSON.parse(localStorage.getItem('settings')) || {
            language: 'uz',
            theme: false,
            notifications: true
        };
        let weeklyScheduleData = JSON.parse(localStorage.getItem('weeklySchedule')) || getDefaultWeeklySchedule();
        let aiAnalysisHistoryData = JSON.parse(localStorage.getItem('aiAnalysisHistory')) || [];

        function getDefaultWeeklySchedule() {
            return {
                Monday:'Ko\'krak va Triseps',
                Tuesday: 'Orqa va Biseps',
                Wednesday: 'Oyoqlar',
                Thursday: 'Dam olish',
                Friday: 'Yelka va Qorin',
                Saturday: 'Kardio',
                Sunday: 'Dam olish'
            };
        }

        function showSection(id) {
            sections.forEach(sec => sec.classList.remove('active'));
            document.getElementById(id).classList.add('active');

            menuItems.forEach(item => item.classList.remove('active'));
            const activeMenuItem = Array.from(menuItems).find(li => li.getAttribute('onclick') === `showSection('${id}')`);
            if (activeMenuItem) {
                activeMenuItem.classList.add('active');
            }

            if (id === 'camera') {
                enableCamera();
            } else {
                disableCamera();
            }

            if (id === 'profile') {
                showProfileInfo();
            } else if (id === 'bmi') {
                displayCurrentWeightInfo();
                displayWeightHistory();
            } else if (id === 'meal') {
                displayMealPlan(new Date());
            } else if (id === 'workout') {
                displayWorkoutPlan(new Date());
            } else if (id === 'weekly') {
                displayWeeklySchedule();
                displayEditWeeklyScheduleForm();
            } else if (id === 'ai') {
                displayAiAnalysisHistory();
            } else if (id === 'stats') {
                updateStats();
            } else if (id === 'settings') {
                loadSettings();
            }
        }

        // Profil bo'limi funksiyalari
        function showProfileInfo() {
            isEditingProfile = false;
            editProfileTitle.style.display = 'none';
            profileForm.style.display = 'none';
            profileInfoDiv.innerHTML = `
                <p><strong>Ism:</strong> ${profileData.name}</p>
                <p><strong>Yosh:</strong> ${profileData.age}</p>
                <p><strong>Jins:</strong> ${profileData.gender === 'male' ? 'Erkak' : profileData.gender === 'female' ? 'Ayol' : 'Boshqa'}</p>
                <p><strong>Bo'y:</strong> ${profileData.height} sm</p>
                <p><strong>Vazn:</strong> ${profileData.weight} kg</p>
                <p><strong>Maqsad:</strong> ${profileData.goal === 'muscle_gain' ? 'Mushak to\'plash' : profileData.goal === 'weight_loss' ? 'Vazn yo\'qotish' : 'Umumiy fitnes'}</p>
            `;
        }

        function showEditProfileForm() {
            isEditingProfile = true;
            editProfileTitle.style.display = 'block';
            profileForm.style.display = 'block';
            profileInfoDiv.innerHTML = '';
            document.getElementById('name').value = profileData.name;
            document.getElementById('age').value = profileData.age;
            document.getElementById('gender').value = profileData.gender;
            document.getElementById('height').value = profileData.height;
            document.getElementById('weight').value = profileData.weight;
            document.getElementById('goal').value = profileData.goal;
        }

        profileForm.addEventListener('submit', function(e) {
            e.preventDefault();
            profileData.name = document.getElementById('name').value;
            profileData.age = parseInt(document.getElementById('age').value);
            profileData.gender = document.getElementById('gender').value;
            profileData.height = parseInt(document.getElementById('height').value);
            profileData.weight = parseFloat(document.getElementById('weight').value);
            profileData.goal = document.getElementById('goal').value;
            localStorage.setItem('profileData', JSON.stringify(profileData));
            showProfileInfo();
        });

        // BMI bo'limi funksiyalari
        function calculateBMI() {
            const weightInput = document.getElementById('weight-calc');
            const heightInput = document.getElementById('height-calc');
            const bmiResultElement = document.getElementById('bmi-result');
            const weightAdviceElement = document.getElementById('weight-advice');

            const weight = parseFloat(weightInput.value);
            const height = parseFloat(heightInput.value);

            if (isNaN(weight) || isNaN(height) || height <= 0) {
                bmiResultElement.textContent = "Iltimos, to'g'ri vazn va bo'yni kiriting.";
                weightAdviceElement.textContent = "";
                return;
            }

            const bmi = weight / (height * height);
            bmiResultElement.textContent = `Sizning BMI: ${bmi.toFixed(1)}`;

            let category = '';
            let advice = '';
            if (bmi < 18.5) {
                category = " (Vazn yetishmaydi)";
                advice = "Sizning vazningiz yetarli emas. Shifokor bilan maslahatlashing.";
            } else if (bmi >= 18.5 && bmi < 25) {
                category = " (Normal vazn)";
                advice = "Sizning vazningiz normal.";
            } else if (bmi >= 25 && bmi < 30) {
                category = " (Ortiqcha vazn)";
                advice = "Sizning vazningiz ortiqcha. Sog'lom turmush tarziga o'ting.";
            } else {
                category = " (Semizlik)";
                advice = "Sizda semizlik kuzatilmoqda. Shifokor bilan maslahatlashing.";
            }
            document.getElementById('bmi-category').textContent = `Kategoriya: ${category}`;
            weightAdviceElement.textContent = advice;
            displayCurrentWeightInfo();
        }

        function displayCurrentWeightInfo() {
            document.getElementById('current-weight-info').innerHTML = `
                <p><strong>Joriy vazn:</strong> ${profileData.weight} kg</p>
                <p><strong>Bo'y:</strong> ${profileData.height / 100} m</p>
            `;
        }

        function displayWeightHistory() {
            const weightHistoryDiv = document.getElementById('weight-history');
            let historyHTML = '<ul>';
            weightHistoryData.forEach(entry => {
                historyHTML += `<li>${new Date(entry.date).toLocaleDateString()} - ${entry.weight} kg</li>`;
            });
            historyHTML += '</ul>';
            weightHistoryDiv.innerHTML = historyHTML || '<p>Vazn tarixi yo\'q.</p>';
        }

        function showWeightHistoryForm() {
            document.getElementById('weight-history-form').style.display = 'block';
        }

        function hideWeightHistoryForm() {
            document.getElementById('weight-history-form').style.display = 'none';
        }

        function addWeightEntry() {
            const newWeightInput = document.getElementById('new-weight');
            const weight = parseFloat(newWeightInput.value);
            if (!isNaN(weight)) {
                weightHistoryData.push({ date: new Date().toISOString(), weight: weight });
                localStorage.setItem('weightHistory', JSON.stringify(weightHistoryData));
                newWeightInput.value = '';
                hideWeightHistoryForm();
                displayWeightHistory();
                profileData.weight = weight;
                localStorage.setItem('profileData', JSON.stringify(profileData));
                displayCurrentWeightInfo();
                calculateBMI(); // BMI ni yangilash
            } else {
                alert('Iltimos, to\'g\'ri vazn kiriting.');
            }
        }

        // Kalendar funksiyalari
        let currentMealMonth = new Date();
        let currentWorkoutMonth = new Date();

        function showCalendar(type) {
            const calendarDiv = document.getElementById(`${type}-calendar`);
            calendarDiv.style.display = 'block';
            if (type === 'meal') {
                renderCalendar('meal', currentMealMonth);
            } else if (type === 'workout') {
                renderCalendar('workout', currentWorkoutMonth);
            }
        }

        function renderCalendar(type, date) {
            const monthYearElement = document.getElementById(`${type}-month-year`);
            const calendarBodyElement = document.getElementById(`${type}-calendar-body`);
            const year = date.getFullYear();
            const month = date.getMonth();
            const firstDayOfMonth = new Date(year, month, 1);
            const lastDayOfMonth = new Date(year, month + 1, 0);
            const daysInMonth = lastDayOfMonth.getDate();
            const dayOfWeekOfFirstDay = firstDayOfMonth.getDay(); // 0 - Yakshanba, 6 - Shanba

            monthYearElement.textContent = `${new Intl.DateTimeFormat('uz-UZ', { month: 'long', year: 'numeric' }).format(date)}`;
            calendarBodyElement.innerHTML = '';

            // Bo'sh kataklarni oldingi oy uchun qo'shish
            for (let i = 0; i < dayOfWeekOfFirstDay === 0 ? 6 : dayOfWeekOfFirstDay - 1; i++) {
                const emptyCell = document.createElement('div');
                calendarBodyElement.appendChild(emptyCell);
            }

            for (let i = 1; i <= daysInMonth; i++) {
                const dayCell = document.createElement('div');
                dayCell.classList.add('calendar-day');
                dayCell.textContent = i;
                const currentDate = new Date(year, month, i);
                if (currentDate.toDateString() === new Date().toDateString()) {
                    dayCell.classList.add('today');
                }
                dayCell.onclick = () => {
                    document.getElementById(`${type}-calendar`).style.display = 'none';
                    if (type === 'meal') {
                        displayMealPlan(currentDate);
                    } else if (type === 'workout') {
                        displayWorkoutPlan(currentDate);
                    }
                };
                calendarBodyElement.appendChild(dayCell);
            }
        }

        function changeMonth(type, change) {
            if (type === 'meal') {
                currentMealMonth.setMonth(currentMealMonth.getMonth() + change);
                renderCalendar('meal', currentMealMonth);
            } else if (type === 'workout') {
                currentWorkoutMonth.setMonth(currentWorkoutMonth.getMonth() + change);
                renderCalendar('workout', currentWorkoutMonth);
            }
        }

        function displayMealPlan(date) {
            const day = date.toLocaleDateString();
            const mealPlanDiv = document.getElementById('meal-plan');
            // Bu yerda siz har bir kun uchun ovqat rejasini belgilashingiz mumkin
            const dailyMeals = {
                '09.04.2025': [
                    { name: 'Nonushta', items: 'Yulaf, sut, mevalar' },
                    { name: 'Tushlik', items: 'Tovuq filesi, guruch, sabzavotlar' },
                    { name: 'Kechki ovqat', items: 'Baliq, brokkoli' }
                ],
                '10.04.2025': [
                    { name: 'Nonushta', items: 'Tuxum, non' },
                    { name: 'Tushlik', items: 'Go\'shtli sho\'rva' },
                    { name: 'Kechki ovqat', items: 'Grechka, salat' }
                ],
                // Boshqa kunlar uchun rejalarni qo'shing
            };

            if (dailyMeals[day]) {
                let mealHTML = '';
                dailyMeals[day].forEach(meal => {
                    mealHTML += `<div class="meal-item"><strong>${meal.name}:</strong> ${meal.items}</div>`;
                });
                mealPlanDiv.innerHTML = mealHTML;
            } else {
                mealPlanDiv.innerHTML = '<p>Bu kun uchun ovqat rejasi yo\'q.</p>';
            }
        }

        function displayWorkoutPlan(date) {
            const dayOfWeek = new Intl.DateTimeFormat('uz-UZ', { weekday: 'long' }).format(date);
            const workoutPlanDiv = document.getElementById('workout-plan');
            // Bu yerda siz har bir kun uchun mashq rejasini belgilashingiz mumkin
            const weeklyWorkouts = {
                'Dushanba': 'Ko\'krak va Triseps mashqlari',
                'Seshanba': 'Orqa va Biseps mashqlari',
                'Chorshanba': 'Oyoq mashqlari',
                'Payshanba': 'Dam olish',
                'Juma': 'Yelka va Qorin mashqlari',
                'Shanba': 'Kardio mashqlari',
                'Yakshanba': 'Dam olish'
            };

            if (weeklyWorkouts[dayOfWeek]) {
                workoutPlanDiv.innerHTML = `<p>${weeklyWorkouts[dayOfWeek]}</p>`;
            } else {
                workoutPlanDiv.innerHTML = '<p>Bu kun uchun mashq rejasi yo\'q.</p>';
            }
        }

        // Haftalik reja bo'limi
        function displayWeeklySchedule() {
            const weeklyScheduleUl = document.getElementById('weekly-schedule');
            weeklyScheduleUl.innerHTML = '';
            for (const day in weeklyScheduleData) {
                const li = document.createElement('li');
                li.classList.add('list-group-item');
                li.innerHTML = `<strong>${day}:</strong> ${weeklyScheduleData[day]}`;
                weeklyScheduleUl.appendChild(li);
            }
        }

        function showEditWeeklySchedule() {
            document.getElementById('edit-weekly-schedule').style.display = 'block';
            displayEditWeeklyScheduleForm();
        }

        function hideEditWeeklySchedule() {
            document.getElementById('edit-weekly-schedule').style.display = 'none';
        }

        function displayEditWeeklyScheduleForm() {
            const scheduleForm = document.getElementById('weekly-schedule-form');
            scheduleForm.innerHTML = '';
            const daysOfWeekUz = ['Dushanba', 'Seshanba', 'Chorshanba', 'Payshanba', 'Juma', 'Shanba', 'Yakshanba'];
            daysOfWeekUz.forEach(day => {
                const div = document.createElement('div');
                div.classList.add('mb-3');
                const label = document.createElement('label');
                label.classList.add('form-label');
                label.textContent = `${day}:`;
                const input = document.createElement('input');
                input.type = 'text';
                input.classList.add('form-control');
                input.value = weeklyScheduleData[day];
                input.dataset.day = day;
                div.appendChild(label);
                div.appendChild(input);
                scheduleForm.appendChild(div);
            });
        }

        function saveWeeklySchedule() {
            const inputs = document.querySelectorAll('#weekly-schedule-form input');
            inputs.forEach(input => {
                weeklyScheduleData[input.dataset.day] = input.value;
            });
            localStorage.setItem('weeklySchedule', JSON.stringify(weeklyScheduleData));
            displayWeeklySchedule();
            hideEditWeeklySchedule();
        }

        // AI tahlil bo'limi (prototip)
        function performAiAnalysis() {
            const analysisDiv = document.getElementById('ai-analysis-results');
            const goal = profileData.goal;
            let recommendations = [];

            if (goal === 'muscle_gain') {
                recommendations.push('Protein iste\'molini oshiring.');
                recommendations.push('Og\'irroq vaznlar bilan mashq qiling.');
            } else if (goal === 'weight_loss') {
                recommendations.push('Kaloriya defitsitiga e\'tibor bering.');
                recommendations.push('Kardio mashqlarini ko\'paytiring.');
            } else if (goal === 'general_fitness') {
                recommendations.push('Muntazam ravishda turli xil mashqlar bilan shug\'ullaning.');
                recommendations.push('Sog\'lom ovqatlanishga rioya qiling.');
            }

            const analysisResult = `
                <p><strong>Maqsad:</strong> ${goal === 'muscle_gain' ? 'Mushak to\'plash' : goal === 'weight_loss' ? 'Vazn yo\'qotish' : 'Umumiy fitnes'}</p>
                <p><strong>Tavsiyalar:</strong></p>
                <ul>
                    ${recommendations.map(rec => `<li>${rec}</li>`).join('')}
                </ul>
            `;
            analysisDiv.innerHTML = analysisResult;

            const now = new Date().toLocaleString();
            aiAnalysisHistoryData.push({ date: now, result: analysisResult });
            localStorage.setItem('aiAnalysisHistory', JSON.stringify(aiAnalysisHistoryData));
            displayAiAnalysisHistory();
        }

        function displayAiAnalysisHistory() {
            const historyDiv = document.getElementById('ai-analysis-history');
            let historyHTML = '<ul>';
            aiAnalysisHistoryData.slice(-5).forEach(entry => { // Oxirgi 5 ta tahlilni ko'rsatish
                historyHTML += `<li>${entry.date}: ${entry.result}</li>`;
            });
            historyHTML += '</ul>';
            historyDiv.innerHTML = historyHTML || '<p>Tahlil tarixi yo\'q.</p>';}

function showAiAnalysisHistory() {
    const historyDiv = document.getElementById('ai-analysis-history');
    let historyHTML = '<ol>';
    aiAnalysisHistoryData.forEach(entry => {
        historyHTML += `<li><strong>${entry.date}:</strong> ${entry.result}</li>`;
    });
    historyHTML += '</ol>';
    historyDiv.innerHTML = historyHTML || '<p>Tahlil tarixi yo\'q.</p>';
}

// Kamera kuzatuv bo'limi funksiyalari (oldingi kod saqlangan)
async function setupCamera() {
    if (!video || !canvas) return null;
    const stream = await navigator.mediaDevices.getUserMedia({
        video: { width: 640, height: 480 }
    });
    video.srcObject = stream;
    cameraStream = stream;
    return new Promise(resolve => {
        video.onloadedmetadata = () => {
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            ctx = canvas.getContext("2d");
            resolve(video);
        };
    });
}

async function loadModel() {
    return await poseDetection.createDetector(poseDetection.SupportedModels.MoveNet);
}

function drawKeypoints(keypoints, ctx) {
    ctx.fillStyle = "cyan";
    keypoints.forEach(point => {
        ctx.beginPath();
        ctx.arc(point.x, point.y, 5, 0, 2 * Math.PI);
        ctx.fill();
    });
}

function drawSkeleton(keypoints, ctx) {
    const skeleton = [
        [0, 1], [1, 3], [0, 2], [2, 4], [5, 6], [5, 7], [7, 9], [6, 8], [8, 10],
        [11, 12], [12, 14], [14, 16], [11, 13], [13, 15], [5, 11], [6, 12]
    ];
    ctx.strokeStyle = "#00FF00";
    ctx.lineWidth = 3;
    skeleton.forEach(([i, j]) => {
        const a = keypoints[i];
        const b = keypoints[j];
        ctx.beginPath();
        ctx.moveTo(a.x, a.y);
        ctx.lineTo(b.x, b.y);
        ctx.stroke();
    });
}

async function detectPose() {
    if (video && model && ctx && isCameraActive) {
        const poses = await model.estimatePoses(video);
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        if (poses.length > 0) {
            const keypoints = poses[0].keypoints;
            drawSkeleton(keypoints, ctx);

            // Gantel ko'tarishni hisoblash (prototip)
            const leftWrist = keypoints.find(kp => kp.name === 'left_wrist');
            const rightWrist = keypoints.find(kp => kp.name === 'right_wrist');

            if (leftWrist && rightWrist && leftWrist.score > 0.3 && rightWrist.score > 0.3) {
                // Chap qo'l
                if (lastLeftWristY !== null && leftWrist.y < lastLeftWristY - –ø–æ–¥–Ω–∏–º–∞–Ω–∏–µThreshold) {
                    chapKotarilishSoni++;
                }
                lastLeftWristY = leftWrist.y;

                // O'ng qo'l
                if (lastRightWristY !== null && rightWrist.y < lastRightWristY - –ø–æ–¥–Ω–∏–º–∞–Ω–∏–µThreshold) {
                    ongKotarilishSoni++;
                }
                lastRightWristY = rightWrist.y;

                gantelCounter.textContent = `O'ng: ${ongKotarilishSoni}, Chap: ${chapKotarilishSoni}`;
            } else {
                lastLeftWristY = null;
                lastRightWristY = null;
            }
        }
    }
    requestAnimationFrame(detectPose);
}

async function enableCamera() {
    if (!model) {
        model = await loadModel();
    }
    if (!video || !canvas || !ctx) {
        const loadedVideo = await setupCamera();
        if (loadedVideo && model) {
            isCameraActive = true;
            video.style.display = 'block';
            detectPose();
        }
    } else if (cameraStream && video.srcObject !== cameraStream) {
        isCameraActive = true;
        video.style.display = 'block';
        video.srcObject = cameraStream;
        detectPose();
    } else if (video.style.display === 'none' && cameraStream) {
        isCameraActive = true;
        video.style.display = 'block';
        detectPose();
    }
}

function disableCamera() {
    if (cameraStream) {
        cameraStream.getTracks().forEach(track => track.stop());
        video.srcObject = null;
        cameraStream = null;
        isCameraActive = false;
        chapKotarilishSoni = 0;
        ongKotarilishSoni = 0;
        lastLeftWristY = null;
        lastRightWristY = null;
        gantelCounter.textContent = `O'ng: 0, Chap: 0`;
        if (ctx) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        if (video) {
            video.style.display = 'none';
        }
    }
}

// Statistika bo'limi (prototip)
function updateStats() {
    const period = document.getElementById('statsPeriod').value;
    const statsInfoDiv = document.getElementById('stats-info');
    let statsText = `<p>So'nggi ${period} uchun:</p><ul>`;
    // Bu yerda siz lokal xotiradan yoki boshqa manbalardan statistik ma'lumotlarni olishingiz mumkin
    statsText += `<li>Umumiy mashq vaqti: Taxminan 15 soat</li>`;
    statsText += `<li>O'rtacha kaloriya yoqilgan: 350 kcal</li>`;
    statsText += `<li>Vazn o'zgarishi: -0.3 kg</li>`;
    statsText += `<li>Mashqlar soni: 10 ta</li>`;
    statsText += `</ul>`;
    statsInfoDiv.innerHTML = statsText;
    // Grafikni yangilash uchun kod (agar amalga oshirilsa)
}

// Sozlamalar bo'limi
function loadSettings() {
    document.getElementById('language').value = settingsData.language;
    document.getElementById('themeSwitch').checked = settingsData.theme;
    document.getElementById('notificationSwitch').checked = settingsData.notifications;
    applyTheme();
}

function saveSettings() {
    settingsData.language = document.getElementById('language').value;
    settingsData.theme = document.getElementById('themeSwitch').checked;
    settingsData.notifications = document.getElementById('notificationSwitch').checked;
    localStorage.setItem('settings', JSON.stringify(settingsData));
    applyTheme();
}

function applyTheme() {
    if (settingsData.theme) {
        document.body.classList.add('dark-theme');
        document.body.classList.remove('light-theme');
    } else {
        document.body.classList.add('light-theme');
        document.body.classList.remove('dark-theme');
    }
}

// Kirish/Ro'yxatdan o'tish bo'limi (prototip)
const loginForm = document.getElementById('login-form');
const registrationForm = document.getElementById('registration-form');

loginForm.addEventListener('submit', function(e) {
    e.preventDefault();
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    // Bu yerda haqiqiy autentifikatsiya amalga oshirilishi kerak
    alert(`Kirishga urinish: Email - ${email}, Parol - ${password}`);
    // Agar muvaffaqiyatli bo'lsa, bosh sahifaga yo'naltirish yoki boshqa harakatlar
});

registrationForm.addEventListener('submit', function(e) {
    e.preventDefault();
    const regEmail = document.getElementById('reg-email').value;
    const regPassword = document.getElementById('reg-password').value;
    const confirmPassword = document.getElementById('confirm-password').value;
    if (regPassword === confirmPassword) {
        // Bu yerda yangi foydalanuvchini ro'yxatga olish amalga oshirilishi kerak
        alert(`Ro'yxatdan o'tishga urinish: Email - ${regEmail}, Parol - ${regPassword}`);
        showLoginForm();
    } else {
        alert('Parollar mos kelmadi!');
    }
});

function showRegistrationForm() {
    loginForm.style.display = 'none';
    registrationForm.style.display = 'block';
}

function showLoginForm() {
    loginForm.style.display = 'block';
    registrationForm.style.display = 'none';
}

// Boshlang'ichda bosh sahifani ko'rsatish va ma'lumotlarni yuklash
loadSettings();
showSection('home');
</script>
</body>
</html>